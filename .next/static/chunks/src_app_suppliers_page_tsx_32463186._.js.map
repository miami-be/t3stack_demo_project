{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/miami/Projects/t3stack_demo_project/src/app/suppliers/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\n\ninterface Supplier {\n  id: string;\n  name: string;\n  contactName: string;\n  contactPhone: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport default function SuppliersPage() {\n  const [suppliers, setSuppliers] = useState<Supplier[]>([]);\n  const [form, setForm] = useState<Partial<Supplier>>({});\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    void fetchSuppliers();\n  }, []);\n\n  async function fetchSuppliers() {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(\"/api/suppliers\");\n      const data = (await res.json()) as Supplier[];\n      setSuppliers(data);\n    } catch (_e) {\n      setError(\"Failed to load suppliers\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const method = editingId ? \"PUT\" : \"POST\";\n    const url = editingId ? `/api/suppliers?id=${editingId}` : \"/api/suppliers\";\n    try {\n      const res = await fetch(url, {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(form),\n      });\n      if (!res.ok) throw new Error(\"Failed to save supplier\");\n      setForm({});\n      setEditingId(null);\n      void fetchSuppliers();\n    } catch (_e) {\n      setError(\"Failed to save supplier\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function startEdit(supplier: Supplier) {\n    setForm(supplier);\n    setEditingId(supplier.id);\n  }\n\n  function cancelEdit() {\n    setForm({});\n    setEditingId(null);\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto p-4\">\n      <h1 className=\"text-2xl font-bold mb-4\">Suppliers</h1>\n      <form onSubmit={handleSubmit} className=\"mb-6 space-y-2 bg-gray-50 rounded p-4 shadow\">\n        <div>\n          <input\n            name=\"name\"\n            value={form.name ?? \"\"}\n            onChange={handleChange}\n            placeholder=\"Supplier Name\"\n            className=\"border p-2 rounded w-full\"\n            required\n          />\n        </div>\n        <div>\n          <input\n            name=\"contactName\"\n            value={form.contactName ?? \"\"}\n            onChange={handleChange}\n            placeholder=\"Contact Name\"\n            className=\"border p-2 rounded w-full\"\n            required\n          />\n        </div>\n        <div>\n          <input\n            name=\"contactPhone\"\n            value={form.contactPhone ?? \"\"}\n            onChange={handleChange}\n            placeholder=\"Contact Phone\"\n            className=\"border p-2 rounded w-full\"\n            required\n          />\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            type=\"submit\"\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n            disabled={loading}\n          >\n            {editingId ? \"Update\" : \"Add\"} Supplier\n          </button>\n          {editingId && (\n            <button type=\"button\" onClick={cancelEdit} className=\"text-gray-600\">Cancel</button>\n          )}\n        </div>\n        {error && <div className=\"text-red-600\">{error}</div>}\n      </form>\n      <table className=\"w-full border\">\n        <thead>\n          <tr className=\"bg-gray-100\">\n            <th className=\"p-2 border\">Name</th>\n            <th className=\"p-2 border\">Contact Name</th>\n            <th className=\"p-2 border\">Contact Phone</th>\n            <th className=\"p-2 border\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {suppliers.map((s) => (\n            <tr key={s.id}>\n              <td className=\"p-2 border\">{s.name}</td>\n              <td className=\"p-2 border\">{s.contactName}</td>\n              <td className=\"p-2 border\">{s.contactPhone}</td>\n              <td className=\"p-2 border\">\n                <button\n                  onClick={() => startEdit(s)}\n                  className=\"text-blue-600 hover:underline\"\n                >\n                  Edit\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}