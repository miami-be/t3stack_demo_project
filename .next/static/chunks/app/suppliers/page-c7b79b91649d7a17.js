(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{4702:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});var s=l(5155),t=l(2115);function n(){var e,a,l;let[n,r]=(0,t.useState)([]),[c,d]=(0,t.useState)({}),[i,o]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null);async function x(){h(!0),m(null);try{let e=await fetch("/api/suppliers"),a=await e.json();r(a)}catch(e){m("Failed to load suppliers")}finally{h(!1)}}function b(e){d({...c,[e.target.name]:e.target.value})}async function N(e){e.preventDefault(),h(!0),m(null);try{if(!(await fetch(i?"/api/suppliers?id=".concat(i):"/api/suppliers",{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok)throw Error("Failed to save supplier");d({}),o(null),x()}catch(e){m("Failed to save supplier")}finally{h(!1)}}return(0,t.useEffect)(()=>{x()},[]),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Suppliers"}),(0,s.jsxs)("form",{onSubmit:N,className:"mb-6 space-y-2 bg-gray-50 rounded p-4 shadow",children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{name:"name",value:null!=(e=c.name)?e:"",onChange:b,placeholder:"Supplier Name",className:"border p-2 rounded w-full",required:!0})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{name:"contactName",value:null!=(a=c.contactName)?a:"",onChange:b,placeholder:"Contact Name",className:"border p-2 rounded w-full",required:!0})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{name:"contactPhone",value:null!=(l=c.contactPhone)?l:"",onChange:b,placeholder:"Contact Phone",className:"border p-2 rounded w-full",required:!0})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",disabled:u,children:[i?"Update":"Add"," Supplier"]}),i&&(0,s.jsx)("button",{type:"button",onClick:function(){d({}),o(null)},className:"text-gray-600",children:"Cancel"})]}),p&&(0,s.jsx)("div",{className:"text-red-600",children:p})]}),(0,s.jsxs)("table",{className:"w-full border",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"p-2 border",children:"Name"}),(0,s.jsx)("th",{className:"p-2 border",children:"Contact Name"}),(0,s.jsx)("th",{className:"p-2 border",children:"Contact Phone"}),(0,s.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:n.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"p-2 border",children:e.name}),(0,s.jsx)("td",{className:"p-2 border",children:e.contactName}),(0,s.jsx)("td",{className:"p-2 border",children:e.contactPhone}),(0,s.jsx)("td",{className:"p-2 border",children:(0,s.jsx)("button",{onClick:()=>{d(e),o(e.id)},className:"text-blue-600 hover:underline",children:"Edit"})})]},e.id))})]})]})}},7052:(e,a,l)=>{Promise.resolve().then(l.bind(l,4702))}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(7052)),_N_E=e.O()}]);